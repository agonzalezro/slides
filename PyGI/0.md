PyGI
====

---

What's it?
----------

.notes:

- 2 layers: C & your favourite language.
- Why C?
    - Good for fast-path applications like: Graphics, Multimedia...
- Why other layer?
    - Write complex software on C is harder.
    - No Garbage Collector on C
- Compatible with...
    - Vala
    - JavaScript
    - Python
    - Lua
    - ...

---

Hello world
-----------

.notes: Gtk.ResponseType.CANCEL

This is a Gtk.Message Dialog example with an extremely original text inside:

![hello wold](hello_world.png)

---

Python code:

    !python
    from gi.repository import Gtk
    Gtk.MessageDialog(None,
                      0,
                      Gtk.MessageType.INFO,
                      Gtk.ButtonsType.CLOSE,
                      "Hello World").run()

C declaration:

    !c
    GtkWidget* gtk_message_dialog_new (GtkWindow *parent,
                                       GtkDialogFlags flags,
                                       GtkMessageType type,
                                       GtkButtonsType buttons,
                                       const gchar *message_format, ...);

C call:

    !c
    GtkMessageDialog* msg = gtk_message_dialog_new (NULL,
                                                    0,
                                                    GTK_MESSAGE_INFO,
                                                    GTK_BUTTONS_CLOSE,
                                                    "Hello World");
      msg.run()

---

Differences
-----------

Python is OO, but C no. Did you know that? :)

    !python
    b = Gtk.Button(...)
    b.set_label("foo")

It changes, but continue being similar:

    !c
    GtkWidget* b = gtk_button_new(...);
    gtk_button_set_label(b, "foo");

---

Binding events
--------------

The window development on GTK as many others is event-drive, take a look:

    !python
    from gi.repository import Gtk

    # Widgets
    window = Gtk.Window()
    vbox = Gtk.VBox()
    entry = Gtk.Entry()
    button = Gtk.Button('print it!')
    vbox.add(entry)
    vbox.add(button)
    window.add(vbox)

    # Event functions
    def on_button_clicked(widget):
        print entry.get_text()

    # Signals
    window.connect('delete-event', Gtk.main_quit)
    button.connect('clicked', on_button_clicked)

    # Show them
    window.show_all()
    Gtk.main()
